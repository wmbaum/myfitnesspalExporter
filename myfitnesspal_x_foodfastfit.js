function pass_data(a,b){if(_.isUndefined(a)||(pass_data.keys=a),_.isUndefined(b)||(pass_data.callback=b),pass_data.keys.length){var c=pass_data.keys.shift();chrome.storage.local.get(c,function(a){_.isUndefined(a[c])||(localStorage[c]=JSON.stringify(a[c])),pass_data()})}else pass_data.callback()}function main(){pass_data(["settings","reports"],function(){window.postMessage("init_reports_model","*")})}function listener(a){a.source===window&&a.data===extension&&(window.removeEventListener("message",listener),main())}window.addEventListener("message",function(a){a.source===window&&(_.isUndefined(a.data.settings)||chrome.storage.local.set({settings:a.data.settings},function(){}))});var extension=chrome.runtime.getManifest().name;window.addEventListener("message",listener),window.postMessage({extension:extension},"*");